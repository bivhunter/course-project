!function(n){var o={};function r(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.m=n,r.c=o,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/",r(r.s=10)}([function(t,e,n){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function s(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function u(t){var o="function"==typeof Map?new Map:void 0;return(u=function(t){if(null===t||(e=t,-1===Function.toString.call(e).indexOf("[native code]")))return t;var e;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==o){if(o.has(t))return o.get(t);o.set(t,n)}function n(){return l(t,arguments,f(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),p(n,t)})(t)}function l(t,e,n){return(l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var o=[null];o.push.apply(o,e);var r=new(Function.bind.apply(t,o));return n&&p(r,n.prototype),r}).apply(null,arguments)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",function(){return h}),document.createElement("template").innerHTML="default template";var h=function(){function n(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(e=s(this,f(n).call(this))).attachShadow({mode:"open"}),e.actionService=t.actionService,e.eventService=t.eventService,e.anchor=t.anchor,e.props=t,e.onInit(),e}var t,e,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(n,u(HTMLElement)),t=n,(e=[{key:"connectedCallback",value:function(){}},{key:"onInit",value:function(){console.log("init ",this)}},{key:"sendState",value:function(t,e){t.forEach(function(t){return t.state=e})}},{key:"state",set:function(t){this._state=i({},t),this.props.state=this._state,this.render()},get:function(){return this._state}},{key:"props",set:function(t){this._props=i({},this.props,{},t)},get:function(){return this._props}},{key:"template",set:function(t){this._template=t.content.cloneNode(!0),this.shadowRoot.appendChild(this._template)},get:function(){return this._template}}])&&c(t.prototype,e),o&&c(t,o),n}()},function(t,e,n){"use strict";n(2);var r=n(0),i=document.createElement("template");function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function c(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}i.innerHTML="\n\t<style>\n\tbutton{\n    transition-duration: 0.6s;\n    cursor: pointer;\n}\n.delete-button, .cancel-button, .not-done-filter-button{\n    background-color: white;\n    color: black;\n    border: 2px solid red; \n}\n\n.delete-button:hover, .cancel-button:hover, .not-done-filter-button:hover {\n    background-color: red; \n    color: white;\n}\n\n.not-todo-button, .all-filter-button{\n    background-color: white;\n    color: black;\n    border: 2px solid blue; \n}\n\n.not-todo-button:hover, .all-filter-button:hover {\n    background-color: blue; \n    color: white;\n}\n\n\n\n.todo-button, .save-button, .add-button, .done-filter-button{\n    background-color: white;\n    color: black;\n    border: 2px solid green; \n}\n\n.todo-button:hover, .save-button:hover, .add-button:hover, .done-filter-button:hover {\n    background-color: green; \n    color: white;\n}\n\n.submit-button{\n    font-size: 20px;\n    height: 40px;\n    box-sizing: border-box;\n    padding: 0 20px 0 20px;\n    display: block;\n    margin: 30px auto 10px auto; \n    border: 3px #B99E7E groove;\n    border-radius: 4px;\n    box-shadow: 2px 2px 4px rgba(0,0,0,0.5);\n    background-color: white;\n    color: #715636;\n    color: #715636;\n    text-shadow: 1px 1px 2px rgba(0,0,0,0.5);\n}\n\n.submit-button:hover {\n    background-color: #B99E7E; \n    color: white;\n}\n\t</style>\n\t\n",n.d(e,"a",function(){return l});var l=function(){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,s(e).call(this,t))}var t,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,r["a"]),t=e,(n=[{key:"onInit",value:function(){this.template=i,this.render(),this.setDataAttribute()}},{key:"addListeners",value:function(){}},{key:"setDataAttribute",value:function(){this.dataset.text=this.props.title}},{key:"render",value:function(){this.anchor.appendChild(this);var t=document.createElement("button");t.classList.add(this.props.classStyle),t.textContent=this.props.title,this.shadowRoot.appendChild(t)}}])&&a(t.prototype,n),o&&a(t,o),e}();customElements.define("my-component-button",l)},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}n.d(e,"a",function(){return o}),n.d(e,"b",function(){return i});var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.channels={}}var e,n,o;return e=t,(n=[{key:"subscribe",value:function(t,e){this.channels[t]||(this.channels[t]=[]),this.channels[t].push(e)}},{key:"unSubscribe",value:function(t,e){this.channels[t]&&(this.channels[t]=this.channels[t].filter(function(t){return t!==e}))}},{key:"publish",value:function(t,e){this.channels[t]&&this.channels[t].length&&this.channels[t].forEach(function(t){t(e)})}}])&&r(e.prototype,n),o&&r(e,o),t}(),i=new o},function(t,e,n){"use strict";var r=n(1),i=(n(2),n(0)),a=document.createElement("template");function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function s(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}a.innerHTML='\n<style>\n\tdiv {\n    height: 100%;\n}\n\n.left-column{\n    float: left;\n    width: 80%;\n\n}\n\n.right-column{\n    float: right;\n    width: 20%;\n}\n\ntd {\n    text-align: center;\n    vertical-align: center;\n}\ntable{\n    margin: auto;\n}\n\np {\n    width: 100%;\n    margin: 10px;\n    padding: 0;\n}\n</style>\t\n<div class="left-column">\n    <p></p>\n</div>\n<div class="right-column">\n    <table>\n        <tr><td class="done-button-wrapper"></td></tr>\n        <tr><td class="delete-button-wrapper"></td></tr>\n    </table>\n</div>\n',n.d(e,"a",function(){return p});var p=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,u(e).call(this,t))}var t,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,i["a"]),t=e,(n=[{key:"onInit",value:function(){this.template=a,this.render(),this.setDataAttribute()}},{key:"setDataAttribute",value:function(){this.dataset._id=this.props.task._id,this.dataset.completed=this.props.task.completed}},{key:"addListeners",value:function(){var e=this;this.addEventListener("mouseover",function(){e.renderButton(),e.addButtonListeners()}),this.addEventListener("mouseout",this.removeButton.bind(this)),this.addEventListener("click",function(t){return e.clickListener(t)})}},{key:"clickListener",value:function(t){"BUTTON"!==t.composedPath()[0].tagName&&this.actionService.dispatch("startEditTask",this.props.task)}},{key:"addButtonListeners",value:function(){var e=this;this.deleteButton.addEventListener("click",function(t){console.log(e.props),e.actionService.dispatch("deletedTask",e.props.task._id)}),this.doneButton.addEventListener("click",function(t){e.actionService.dispatch("doneTask",e.props.task)})}},{key:"removeButton",value:function(){this.deleteButtonWrapper.removeChild(this.deleteButton),this.doneButtonWrapper.removeChild(this.doneButton)}},{key:"render",value:function(){this.anchor.appendChild(this),this.shadowRoot.querySelector("p").textContent=this.props.task.text,this.addListeners()}},{key:"renderButton",value:function(){this.doneButtonWrapper=this.shadowRoot.querySelector(".done-button-wrapper"),this.deleteButtonWrapper=this.shadowRoot.querySelector(".delete-button-wrapper"),this.deleteButton=new r.a({title:"Delete",classStyle:"delete-button",anchor:this.deleteButtonWrapper}),this.props.task.completed?this.doneButton=new r.a({title:"Not todo",classStyle:"not-todo-button",anchor:this.doneButtonWrapper}):this.doneButton=new r.a({title:"Todo",classStyle:"todo-button",anchor:this.doneButtonWrapper})}}])&&c(t.prototype,n),o&&c(t,o),e}();customElements.define("my-component-task",p)},function(t,e,n){"use strict";var r=n(2),i=n(3),a=n(0),c=n(1),s=document.createElement("template");function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){p(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function h(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}s.innerHTML='\n    <style>\n .left-column{\n    float: left;\n    width: 80%;\n\n}\n\n.right-column{\n    float: right;\n    width: 20%;\n}\n\ntd {\n    text-align: center;\n    vertical-align: center;\n}\ntable{\n    margin: auto;\n}\n\n\n.text-area{\n    box-sizing: border-box;\n    height: 100%;\n    width: 100%;\n    padding: 10px;\n    margin: 0;\n    border: none;\n    outline: none;\n    resize: none;\n    background: inherit;\n    font: inherit;\n}\n    </style>\n    \n <div class="left-column">\n       <textarea class="text-area"></textarea>\n </div>\n <div class="right-column">\n       <table>\n         <tr><td class="save-button-wrapper"></td></tr>\n         <tr><td class="cancel-button-wrapper"></td></tr>\n       </table>\n       </div>    \n';var y=function(){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),h(this,d(e).call(this,t))}var t,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}(e,a["a"]),t=e,(n=[{key:"onInit",value:function(){this.template=s,this.render(),this.setDataAttribute()}},{key:"setDataAttribute",value:function(){this.dataset._id=this.props.task._id,this.dataset.completed=this.props.task.completed}},{key:"render",value:function(){var t=this;this.anchor.appendChild(this),this.textarea=this.shadowRoot.querySelector("textarea"),this.textarea.value=this.props.task.text,setTimeout(function(){t.textarea.focus()},0),this.saveButtonWrapper=this.shadowRoot.querySelector(".save-button-wrapper"),this.cancelButtonWrapper=this.shadowRoot.querySelector(".cancel-button-wrapper"),this.renderButton(),this.addButtonListeners(),this.addListeners()}},{key:"renderButton",value:function(){this.saveButton=new c.a({title:"Save",classStyle:"save-button",anchor:this.saveButtonWrapper}),this.cancelButton=new c.a({title:"Cancel",classStyle:"cancel-button",anchor:this.cancelButtonWrapper})}},{key:"addListeners",value:function(){var e=this;this.addEventListener("mouseleave",function(t){e.actionService.dispatch("endEditTask",e.props.task)}),this.textarea.addEventListener("keydown",function(t){"Enter"===t.key&&(t.preventDefault(),e.actionService.dispatch("endEditTask",l({},e.props.task,{title:e.textarea.value})))})}},{key:"addButtonListeners",value:function(){var e=this;this.saveButton.addEventListener("click",function(t){e.actionService.dispatch("endEditTask",l({},e.props.task,{title:e.textarea.value}))}),this.cancelButton.addEventListener("click",function(t){e.actionService.dispatch("endEditTask",e.props.task)})}}])&&f(t.prototype,n),o&&f(t,o),e}();customElements.define("my-component-textarea",y);var v=document.createElement("template");function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){O(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function O(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function j(t,e){return!e||"object"!==m(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function S(t){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function E(t,e){return(E=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}v.innerHTML='\n <style>\n    ul{\n    list-style-type: none;\n    margin: 0;\n    padding: 0;\n}\n\nli{\n    height: 60px;\n    margin: 0;\n    border-width: 2px;\n    border-color: rgb(163, 163, 92) rgb(42, 118, 118) rgb(42, 118, 118) rgb(163, 163, 92);\n    border-style: groove ridge ridge groove;\n}\n\nmy-component-task, my-component-textarea{\n    height: 100%;\n    width: 100%;\n    display: block;\n}\n\nmy-component-task[data-completed = "true"]{\n    background: #81FFD6;\n}\n\nmy-component-task:hover[data-completed = "true"]{\n    background: #68E8BD;\n}\n\nmy-component-task[data-completed = "false"]{\n    background: #FFC0A9;\n}\n\nmy-component-task:hover[data-completed = "false"]{\n    background: #EA755E;\n}\n\nmy-component-textarea[data-completed = "false"]{\n    background: #EA755E;\n}\n\nmy-component-textarea[data-completed = "true"]{\n    background: #68E8BD;\n}\n\n</style>\n    <div>\n    <ul></ul>\n</div>\n\n';var P=function(){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),j(this,S(e).call(this,t))}var t,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&E(t,e)}(e,a["a"]),t=e,(n=[{key:"onInit",value:function(){this.template=v,console.log(this.props,"tasklist props"),this.render()}},{key:"addListeners",value:function(){var e=this;this.addEventListener("click",this.clickListener.bind(this)),r.b.subscribe("cancelEditing",function(t){e.editingLi.innerHTML="",e.editingLi.appendChild(new i.a({task:t}))})}},{key:"clickListener",value:function(t){var e=this,n=t.composedPath();if("BUTTON"!==n[0].tagName){var o=n.find(function(t){return"MY-COMPONENT-TASK"===t.tagName});o&&(this.editingLi=n.find(function(t){return"LI"===t.tagName}),this.textArea=new y({task:o.props.task}),requestAnimationFrame(function(){e.editingLi.replaceChild(e.textArea,o)}),this.textArea.focus())}}},{key:"render",value:function(){this.anchor.appendChild(this),this.ul=this.shadowRoot.querySelector("ul"),this.renderList()}},{key:"renderList",value:function(){var e=this;this.ul.innerHTML="",this.props.state.todoView.forEach(function(t){e.addTask(t)})}},{key:"addTask",value:function(t){var e=document.createElement("li");if(t.editing)new y(w({},this.props,{anchor:e,task:t}));else new i.a(w({},this.props,{anchor:e,task:t}));this.ul.appendChild(e)}}])&&k(t.prototype,n),o&&k(t,o),e}();customElements.define("my-component-task-list",P);var x=document.createElement("template");function T(t){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function L(t,e){return!e||"object"!==T(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function C(t){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function D(t,e){return(D=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}x.innerHTML='\n<style>\n    \n    .wrapper{\n     height: 60px;\n     margin: 10px 0 10px 0;\n     \n    }\n    \n    .left-column{\n        width: 80%;\n        float: left;\n        border: 3px #B99E7E groove;  \n        box-shadow: 2px 2px 4px rgba(0,0,0,0.5);\n        background: #FFE4C4;\n        \n    }\n\n    .right-column{\n        /*float: right;*/\n        margin: 320px;\n        display: table-cell;\n        vertical-align: middle;\n        text-align: center;\n        height: 60px;\n        width: 20%;\n    }\n    \n    textarea{\n    box-sizing: border-box;\n    height: 100%;\n    width: 100%;\n    padding: 10px;\n    margin: 0;\n    border: none;\n    outline: none;\n    resize: none;\n    background: inherit;\n    font: inherit;\n}\n\n.left-column:hover{\nbackground: #F2D7B7;\n}\n    \n</style>\n    \n    <div class="wrapper">\n        <div class="left-column">\n            <textarea ></textarea>\n        </div>\n        <div class="right-column"></div>\n    </div>\n\n';var B=function(){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),L(this,C(e).call(this,t))}var t,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&D(t,e)}(e,a["a"]),t=e,(n=[{key:"onInit",value:function(){this.template=x,this.render()}},{key:"connectedCallback",value:function(){}},{key:"addListeners",value:function(){var e=this;this.button.addEventListener("click",function(t){e.addTask()}),this.textarea.addEventListener("keydown",function(t){"Enter"===t.key&&e.addTask()})}},{key:"addTask",value:function(){this.textarea.value&&(this.props.actionService.dispatch("addTask",this.textarea.value),this.textarea.value="")}},{key:"render",value:function(){this.anchor.appendChild(this),this.textarea=this.shadowRoot.querySelector("textarea");var t=this.shadowRoot.querySelector(".right-column");this.button=new c.a({title:"Add task",anchor:t,classStyle:"add-button"}),this.addListeners()}}])&&_(t.prototype,n),o&&_(t,o),e}();customElements.define("my-component-input",B);var I=document.createElement("template");function R(t){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function A(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function N(t,e){return!e||"object"!==R(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function M(t){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function H(t,e){return(H=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}I.innerHTML='\n    <style>\n    td {\n        outline: blue 1px groove;\n    }\n</style>\n    <div class="wrapper">\n        <h2>Filter Tasks</h2>\n        <table>\n            <tr>\n                <td class="all-wrapper"></td>\n                <td class="done-wrapper"></td>\n                <td class="not-done-wrapper"></td>\n            </tr>    \n        </table>    \n    </div>    \n';var U=function(){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),N(this,M(e).call(this,t))}var t,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&H(t,e)}(e,a["a"]),t=e,(n=[{key:"connectedCallback",value:function(){}},{key:"onInit",value:function(){this.template=I,this.render()}},{key:"render",value:function(){this.anchor.appendChild(this),this.allButtonWrapper=this.shadowRoot.querySelector(".all-wrapper"),this.doneButtonWrapper=this.shadowRoot.querySelector(".done-wrapper"),this.notDoneButtonWrapper=this.shadowRoot.querySelector(".not-done-wrapper"),this.allTasks=new c.a({title:"All",classStyle:"all-filter-button",anchor:this.allButtonWrapper}),this.doneTasks=new c.a({title:"Done",classStyle:"done-filter-button",anchor:this.doneButtonWrapper}),this.notDoneTasks=new c.a({title:"Not Done",classStyle:"not-done-filter-button",anchor:this.notDoneButtonWrapper}),this.addButtonListeners()}},{key:"addButtonListeners",value:function(){var e=this;this.allTasks.addEventListener("click",function(t){e.actionService.dispatch("allFilter",e.props)}),this.doneTasks.addEventListener("click",function(t){e.actionService.dispatch("doneFilter",e.props)}),this.notDoneTasks.addEventListener("click",function(t){e.actionService.dispatch("notDoneFilter",e.props)})}},{key:"state",set:function(t){this.props.state=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach(function(t){A(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t)},get:function(){return this._state}}])&&F(t.prototype,n),o&&F(t,o),e}();customElements.define("my-component-filter",U);var z=document.createElement("template");function W(t){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach(function(t){J(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function J(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Y(t,e){return!e||"object"!==W(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function Q(t){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function X(t,e){return(X=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}z.innerHTML='\n<style>\n    td {\n        padding: 10px;\n    }\n</style>\n<div>\n    <table>\n    \t<tr>\n    \t\t<td>All tasks</td>\n    \t\t<td class="all-tasks"></td>\n    \t</tr>\n    \t<tr>\n    \t\t<td>Completed tasks</td>\n    \t\t<td class="completed-tasks"></td>\n    \t</tr>\n    \t<tr>\n    \t\t<td>Not completed tasks</td>\n    \t\t<td class="not-completed-tasks"></td>\n    \t</tr>\n        \n\t</table>\n</div>    \n';var Z=function(){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Y(this,Q(e).call(this,t))}var t,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&X(t,e)}(e,a["a"]),t=e,(n=[{key:"onInit",value:function(){this.template=z,this.render(),this.applyChanges()}},{key:"render",value:function(){this.anchor.appendChild(this),this.allTasks=this.shadowRoot.querySelector(".all-tasks"),this.completedTasks=this.shadowRoot.querySelector(".completed-tasks"),this.notCompletedTasks=this.shadowRoot.querySelector(".not-completed-tasks")}},{key:"applyChanges",value:function(){console.log(this.props),this.allTasks.textContent=this.props.state.countTasks.all,this.completedTasks.textContent=this.props.state.countTasks.completed,this.notCompletedTasks.textContent=this.props.state.countTasks.notCompleted}},{key:"state",set:function(t){this.props=V({},this.props,{state:t}),this._state=V({},t),this.applyChanges()},get:function(){return this._state}}])&&K(t.prototype,n),o&&K(t,o),e}();customElements.define("my-component-counter",Z);var $=document.createElement("template");function tt(t){return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(Object(n),!0).forEach(function(t){ot(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ot(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function it(t,e){return!e||"object"!==tt(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function at(t){return(at=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ct(t,e){return(ct=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}$.innerHTML='\n\n<style>\n    ul{\n    list-style-type: none;\n    }\n    .left-column{\n    margin-left: 0;\n        float: left;\n        width: 70%;\n        outline: blue 1px groove;\n    }\n    .right-column{\n        width: 30%;\n        float: right;\n        outline: blue 1px groove;\n    }\n    \n</style>\n    <div class="header">\n        <h1>Todo Application</h1>\n        <div class="sign-out-wrapper"></div>\n        </div>\n    <div class="left-column">\n        <div class="input-wrapper"></div>\n        <div class="filter-wrapper"></div>\n        <div class="todo-list-wrapper"></div>\n    </div>\n    <div class="right-column"></div>\n',n.d(e,"a",function(){return st});var st=function(){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),it(this,at(e).call(this,t))}var t,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ct(t,e)}(e,a["a"]),t=e,(n=[{key:"onInit",value:function(){this.template=$,console.log("initTodoComponent"),this.actionService.dispatch("initTodoComponent")}},{key:"connectedCallback",value:function(){}},{key:"render",value:function(){this.anchor.appendChild(this);var t=this.shadowRoot.querySelector(".right-column"),e=this.shadowRoot.querySelector(".todo-list-wrapper"),n=this.shadowRoot.querySelector(".input-wrapper"),o=this.shadowRoot.querySelector(".filter-wrapper"),r=this.shadowRoot.querySelector(".sign-out-wrapper");new B(nt({},this.props,{anchor:n}));this.taskList=new P(nt({},this.props,{anchor:e})),this.filter=new U(nt({},this.props,{anchor:o})),this.counter=new Z(nt({},this.props,{anchor:t})),this.signOutButton=new c.a({title:"Sign Out",classStyle:"sign-out-button",anchor:r}),this.addListeners()}},{key:"applyChanges",value:function(t){this.isInit||(this.isInit=!0,this.render()),this.taskList.state=nt({},t),this.filter.state=nt({},t),this.counter.state=nt({},t)}},{key:"addListeners",value:function(){var t=this;this.signOutButton.addEventListener("click",function(){t.actionService.dispatch("signOut")})}},{key:"state",set:function(t){this._state=nt({},t),this.props.state=this._state,this.applyChanges(t)}}])&&rt(t.prototype,n),o&&rt(t,o),e}();customElements.define("my-component-todo",st)},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}n.d(e,"a",function(){return o});var o=function(){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.url=t,this.token=localStorage.getItem("token"),console.log("init requestService")}var t,n,o;return t=e,(n=[{key:"checkAuthorization",value:function(t){return fetch("".concat(this.url,"/me"),{method:"GET",headers:{Authorization:t}}).then(function(t){if(!t.ok)throw new Error("File not found");return t.json()})}},{key:"post",value:function(t){return console.log(t,"task",this.token),fetch("".concat(this.url,"/todos"),{method:"POST",body:JSON.stringify(t),headers:{"Content-type":"application/json; charset=UTF-8",Authorization:this.token}}).then(function(t){if(!t.ok)throw new Error("File not found");return t.json()})}},{key:"get",value:function(){return fetch("".concat(this.url,"/todos"),{method:"GET",headers:{Authorization:this.token}}).then(function(t){if(!t.ok)throw new Error("File not found");return t.json()})}},{key:"delete",value:function(t){return fetch("".concat(this.url,"/todos/").concat(t),{method:"DELETE",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:this.token}}).then(function(t){if(!t.ok)throw new Error("File not found")})}},{key:"put",value:function(t){return fetch("".concat(this.url,"/todos/").concat(t._id),{method:"PUT",body:JSON.stringify(t),headers:{"Content-type":"application/json; charset=UTF-8",Authorization:this.token}}).then(function(t){if(!t.ok)throw new Error("File not found");return t.json()})}},{key:"signIn",value:function(t){return fetch("".concat(this.url,"/login"),{method:"POST",body:JSON.stringify(t),headers:{"Content-type":"application/json; charset=UTF-8"}}).then(function(t){if(!t.ok)throw new Error("File not found");return t.json()})}},{key:"signUp",value:function(t){return fetch("".concat(this.url,"/register"),{method:"POST",body:JSON.stringify(t),headers:{"Content-type":"application/json; charset=UTF-8"}}).then(function(t){if(!t.ok)throw t.json();return t.json()})}}])&&r(t.prototype,n),o&&r(t,o),e}()},function(t,e,n){"use strict";n.d(e,"a",function(){return c});n(2);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var c=function(){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t.store,this.requestService=t.requestService,this.initHandlers(),this.onInit()}var t,n,o;return t=e,(n=[{key:"onInit",value:function(){console.log("init actionService"),this.dispatch("initApplication","")}},{key:"initHandlers",value:function(){var e=this;this.handlers={addTask:function(t){return e.addTask({text:t,completed:!1})},initTodoComponent:function(){return e.getTaskList()},applicationInit:function(){return e.checkAuthorization()},deletedTask:function(t){return e.deleteTask(t)},doneTask:function(t){return e.changeTask(r({},t,{completed:!t.completed}))},startEditTask:function(t){return e.changeTaskLocal(r({},t,{editing:!0}))},endEditTask:function(t){delete t.editing,e.changeTaskLocal(r({},t))},allFilter:function(){return e.tasksFilter("allTasks")},doneFilter:function(){return e.tasksFilter("doneTasks")},notDoneFilter:function(){return e.tasksFilter("notDoneTasks")},signIn:function(t){return e.signIn(t)},signOut:function(){return e.signOut()},signUp:function(t){return e.signUp(t)}}}},{key:"dispatch",value:function(t,e){if(this.handlers[t]){var n=performance.now();this.handlers[t](e),console.log("handlers",performance.now()-n)}}},{key:"checkAuthorization",value:function(){}},{key:"getTaskList",value:function(){var e=this;this.requestService.get().then(function(t){return e.store.dispatch("INIT_TODO",t)})}},{key:"addTask",value:function(t){var e=this;this.requestService.post(t).then(function(t){e.store.dispatch("ADD_TODO",t)}).catch(function(t){return console.log(t)})}},{key:"deleteTask",value:function(t){var e=this;this.requestService.delete(t).then(function(){return e.store.dispatch("DELETE_TODO",t)})}},{key:"changeTask",value:function(t){var e=this;console.log("changeTask",t),this.requestService.put(t).then(function(t){return e.store.dispatch("CHANGE_TODO",t)})}},{key:"changeTaskLocal",value:function(t){this.store.dispatch("CHANGE_TODO",t)}},{key:"tasksFilter",value:function(t){this.store.dispatch("FILTER",t)}},{key:"signIn",value:function(t){var e=this;this.requestService.signIn(t).then(function(t){localStorage.setItem("token",t.token),e.requestService.token=t.token,e.store.dispatch("SIGN_IN",t.token),console.log(t.token)}).catch(function(t){return console.log(t)}),console.log(t)}},{key:"signOut",value:function(){localStorage.removeItem("token"),this.store.dispatch("SIGN_OUT")}},{key:"signUp",value:function(t){var e=this;console.log(t),this.requestService.signUp(t).then(function(t){localStorage.setItem("token",t.token),e.requestService.token=t.token,e.store.dispatch("SIGN_IN",t.token),console.log(t.error)}).catch(function(t){return t.then(function(t){return console.log(t.error)})})}}])&&a(t.prototype,n),o&&a(t,o),e}()},function(t,e,n){"use strict";function o(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(){return{INIT_TODO:function(t,e){return i({},e,{todoList:o(t),todoView:o(t),filterMethod:"allTasks",countTasks:u(o(t)),route:"todo"})},ADD_TODO:function(t,e){var n=[t].concat(o(e.todoList));return i({},e,{todoList:n,todoView:s(n,e.filterMethod),countTasks:u(n)})},DELETE_TODO:function(e,t){var n=o(t.todoList.filter(function(t){return t._id!==e}));return i({},t,{todoList:n,todoView:s(n,t.filterMethod),countTasks:u(n)})},CHANGE_TODO:function(e,t){var n=o(t.todoList.map(function(t){return t._id===e._id?e:t}));return i({},t,{todoList:n,todoView:s(n,t.filterMethod),countTasks:u(n)})},FILTER:function(t,e){return i({},e,{filterMethod:t,todoView:s(e.todoList,t)})},SIGN_IN:function(t,e){return i({},e,{token:t,route:"todo"})},SIGN_OUT:function(t,e){return i({},e,{route:"login"})}}}function s(t,e){switch(e){case"allTasks":return o(t);case"doneTasks":return o(t.filter(function(t){return t.completed}));case"notDoneTasks":return o(t.filter(function(t){return!t.completed}))}}function u(t){var e=t.length,n=0,o=0;return t.forEach(function(t){t.completed?n++:o++}),{all:e,completed:n,notCompleted:o}}n.d(e,"a",function(){return c})},function(t,e,n){"use strict";n.d(e,"a",function(){return o});n(2);function r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var o=function(){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.reducers=t.reducers,this.eventService=t.eventService,this.state={todoList:[],todoView:[]}}var t,n,o;return t=e,(n=[{key:"dispatch",value:function(t,e){this.reducers[t]&&(this.state=this.reducers[t](e,this.state)),console.log(this.state),this.eventService.publish("stateChanged",this.state)}}])&&r(t.prototype,n),o&&r(t,o),e}()},function(t,e,n){"use strict";var o=n(4),r=n(0),i=document.createElement("template");i.innerHTML='\n\t<style>\n\t\t.form-wrapper{\n\t\t\t\theight: 600px;\n\t\t\t\twidth: 600px;\n\t\t\t\tmargin: 10px auto 10px auto;\n\t\t\t\tdisplay: table-cell;\n\t\t\t\tvertical-align: middle;\n\t\t\t\ttext-align: center;\n\t\t\t}\n\nh1{\n\tfont-size: 40px;\n\ttext-align: center;\n\tmargin:20px;\n\tcolor: #715636;\n\ttext-shadow: 2px 2px 4px rgba(0,0,0,0.5);\n}\n\ninput:hover{\n\tbackground: #E7CCAC;\n}\ninput:focus{\n\toutline: 3px #B99E7E groove;\n\tborder: 3px #B99E7E groove;\n}\n\ninput:-webkit-autofill{\n\tbackground: #E7CCAC\n}\n\n\nlabel, input {\n\tcolor: #715636;\n\ttext-shadow: 1px 1px 2px rgba(0,0,0,0.5);\n\t\t\t\tfont-size: 20px;\n\n\t\t\t\tmargin: 10px 0 10px 0 ;\n\t\t\t\tdisplay: block;\n\t\t\t} \nlabel{\n\tcolor: #715636;\n\ttext-shadow: 1px 1px 2px rgba(0,0,0,0.5);\n}\t\t\t\n\ninput {\n\twidth:300px;\n\theight: 30px;\n\tborder: 3px #B99E7E groove;\n\tborder-radius: 4px;\n\tbox-shadow: 2px 2px 4px rgba(0,0,0,0.5);\n\t\n}\n\nform{\n    width: 400px; \n\t/*height: 400px;*/\n\tbackground: #FFE4C4;\n\tdisplay: block;\n\tbox-sizing: border-box;\n\t\n\tmargin: 10px auto 10px auto; \n\tpadding: 50px; \n\ttext-align: left;\n\tborder-radius: 10px;\n\tborder: 5px #B99E7E groove;\n\tbox-shadow: 5px 5px 10px rgba(0,0,0,0.5);\n\n\n\t/* border-style: groove ridge ridge groove; */\n\t/* display: table-cell;\n\tvertical-align: middle; */\n}\n\n.hide{\n    display: none;\n}\n\ntable{\n    width: 100%;\n}\n\ntd{\n    vertical-align: middle;\n}\n\n\n\t</style>\n\t<div class="form-wrapper">\n\t\t<form name="login">\n\t\t\t<h1>Login Form</h1>\n\t\t\t<label for="username" class="hide username">User Name</label>\n\t\t\t<input type="text"  class="hide" name="username"  placeholder="Enter User Name">\n\t\t\t<label for="email">Email</label>\n\t\t\t<input type="email" name="email" autocomplete="on" placeholder="Enter Email">\n\t\t\t<label for="password">Password</label>\n\t\t\t<input type="password" name="password" autocomplete="on" placeholder="Enter Password">\n\t\t\t\n\t\t\t\n\t\t\t<table>\n\t\t\t    <tr>\n\t\t\t        <td class="in-button"></td>\n\t\t\t        <td class="up-button"></td>\n                </tr>\n            </table>\n\t\t</form>\n\t</div>\n';var a=n(1);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function u(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=function(){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).call(this,t))}var t,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(e,r["a"]),t=e,(n=[{key:"onInit",value:function(){this.template=i,this.render()}},{key:"render",value:function(){this.anchor.appendChild(this),this.emailInput=this.shadowRoot.querySelector('input[name="email"]'),this.passwordInput=this.shadowRoot.querySelector('input[name="password"]'),this.formElement=this.shadowRoot.querySelector('[name="login"]');var t=this.shadowRoot.querySelector(".in-button"),e=this.shadowRoot.querySelector(".up-button");this.submitButton=new a.a({title:"Sign In",classStyle:"submit-button",anchor:t}),this.registerButton=new a.a({title:"Sign Up",classStyle:"submit-button",anchor:e}),this.addButtonListeners()}},{key:"addButtonListeners",value:function(){var t=this;this.submitButton.addEventListener("click",function(){t.actionService.dispatch("signIn",{email:t.emailInput.value,password:t.passwordInput.value})}),this.registerButton.addEventListener("click",function(){t.registerMode?t.actionService.dispatch("signUp",{email:t.emailInput.value,password:t.passwordInput.value,username:t.userNameInput.value}):(t.userNameInput=t.shadowRoot.querySelector('input[name="username"]'),t.userNameInput.classList.toggle("hide"),t.shadowRoot.querySelector(".username").classList.toggle("hide"),t.registerMode=!0)})}}])&&s(t.prototype,n),o&&s(t,o),e}();function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){b(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function b(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}customElements.define("my-component-login",f),n.d(e,"a",function(){return m});var v={login:{url:"todo-app/login",component:f,route:"login"},todo:{url:"todo-app",component:o.a,route:"todo"}},m=function(){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.props=t,this.requestService=t.requestService,this.actionService=t.actionService,this.anchor=t.anchor,this.routerConfig=v,this.eventService=t.eventService,this.state=t.state,this.onInit(),this.addListeners()}var t,n,o;return t=e,(n=[{key:"onInit",value:function(){var e=this;this.requestService.checkAuthorization(localStorage.getItem("token")).then(function(t){console.log(t),e.changeRoute("todo")}).catch(function(t){console.log(t),e.changeRoute("login")})}},{key:"changeRoute",value:function(t){this.currentRoute=this.routerConfig[t],this.currentRoute&&(this.currentComponent?this.anchor.innerHTML="":console.log(this.currentRoute.component),this.currentComponent=new this.currentRoute.component(this.props))}},{key:"addListeners",value:function(){var e=this;this.eventService.subscribe("stateChanged",function(t){(e.state=t).route===e.currentRoute.route?e.currentComponent.state=d({},t):e.changeRoute(t.route)})}},{key:"state",set:function(t){this._state=d({},this.state,{},t)},get:function(){return this._state}}])&&y(t.prototype,n),o&&y(t,o),e}()},function(t,e,h){"use strict";h.r(e),function(t){h(12),h(13),h(3);var e=h(2),n=(h(4),h(5)),o=h(6),r=h(7),i=h(8),a=h(9);void 0!==t.hot&&t.hot.accept();var c=new n.a("https://todo-app-back.herokuapp.com"),s=new e.a,u=document.getElementById("app"),l=Object(r.a)(),p=new i.a({reducers:l,eventService:s}),f=new o.a({requestService:c,store:p});window.addEventListener("hashchange ",function(t){alert("hashchange")});new a.a({actionService:f,eventService:s,requestService:c,anchor:u,state:{route:"todo"}});window.onpopstate=function(t){return console.log(t)}}.call(this,h(11)(t))},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,n){},function(t,e,n){"use strict";var r=n(2);function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.onInit()}var e,n,o;return e=t,(n=[{key:"onInit",value:function(){this.addListeners()}},{key:"addListeners",value:function(){var n=this;r.b.subscribe("changedData",function(t){var e=n.countTasks(t);r.b.publish("countedTasks",e)})}},{key:"countTasks",value:function(t){var e=0,n=0;return console.log(t),t.forEach(function(t){t.completed?e++:n++}),{allNum:t.length,doneNum:e,notDoneNum:n}}}])&&i(e.prototype,n),o&&i(e,o),t}())}]);
//# sourceMappingURL=main.js.map