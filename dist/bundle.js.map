{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/ButtonComponent.js","webpack:///./src/components/Component.js","webpack:///./src/components/CounterComponent.js","webpack:///./src/components/FilterComponent.js","webpack:///./src/components/InputComponent.js","webpack:///./src/components/LoginComponent.js","webpack:///./src/components/TaskComponent.js","webpack:///./src/components/TaskListComponent.js","webpack:///./src/components/TodoComponent.js","webpack:///./src/components/textAreaComponent.js","webpack:///./src/main.js","webpack:///./src/services/CounterService.js","webpack:///./src/services/actionService.js","webpack:///./src/services/eventService.js","webpack:///./src/services/requestService.js","webpack:///./src/services/routeService.js","webpack:///./src/store/reducers.js","webpack:///./src/store/store.js","webpack:///./src/templates/button-template.js","webpack:///./src/templates/counter-template.js","webpack:///./src/templates/filter-template.js","webpack:///./src/templates/input-template.js","webpack:///./src/templates/login-template.js","webpack:///./src/templates/task-list-template.js","webpack:///./src/templates/task-template.js","webpack:///./src/templates/textarea-template.js","webpack:///./src/templates/todo-template.js"],"names":["ButtonComponent","props","template","buttonTemplate","render","setDataAttribute","dataset","text","title","anchor","appendChild","button","document","createElement","classList","add","classStyle","textContent","shadowRoot","Component","customElements","define","innerHTML","attachShadow","mode","actionService","eventService","onInit","console","log","componentList","state","forEach","component","value","_state","_props","_template","content","cloneNode","HTMLElement","CounterComponent","counterTemplate","applyChanges","allTasks","querySelector","completedTasks","notCompletedTasks","countTasks","all","completed","notCompleted","FilterComponent","filterTemplate","allButtonWrapper","doneButtonWrapper","notDoneButtonWrapper","doneTasks","notDoneTasks","addButtonListeners","addEventListener","event","dispatch","InputComponent","inputTemplate","addTask","textarea","key","buttonWrapper","addListeners","LoginComponent","loginTemplate","emailInput","passwordInput","formElement","inButtonWrapper","outButtonWrapper","submitButton","registerButton","email","password","registerMode","userNameInput","toggle","label","username","TaskComponent","taskTemplate","_id","task","renderButton","removeButton","bind","clickListener","composedPath","tagName","deleteButton","doneButton","deleteButtonWrapper","removeChild","TaskListComponent","taskListTemplate","eventBus","subscribe","editingLi","targetList","taskComponent","find","item","textArea","TextAreaComponent","requestAnimationFrame","replaceChild","focus","ul","renderList","todoView","li","editing","TodoComponent","todoTemplate","rightColumn","todoListWrapper","inputWrapper","filterWrapper","signOutWrapper","input","taskList","filter","counter","signOutButton","isInit","textareaTemplate","setTimeout","saveButtonWrapper","cancelButtonWrapper","saveButton","cancelButton","e","preventDefault","url","requestService","RequestService","EventService","application","getElementById","reducers","createReducers","store","Store","ActionServices","window","alert","router","RouteService","route","onpopstate","CounterService","data","res","publish","doneNum","notDoneNum","allNum","length","counterService","initHandlers","handlers","getTaskList","checkAuthorization","id","deleteTask","changeTask","changeTaskLocal","tasksFilter","signIn","signOut","signUp","action","payload","start","performance","now","get","then","post","error","put","method","localStorage","setItem","token","removeItem","channels","channel","fn","push","message","getItem","fetch","headers","response","ok","Error","json","body","JSON","stringify","routerConfig","changeRoute","currentRoute","currentComponent","payLoad","todoList","filterMethod","calculateTasks","applyFilter","map","sate","allTasksNumber","doneTasksNumber","notDoneTasksNumber","actionType"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/main.js\");\n","import {\r\n    eventBus\r\n} from \"../services/eventService.js\";\r\nimport {\r\n    Component\r\n} from \"./Component.js\";\r\nimport {\r\n    buttonTemplate\r\n} from \"../templates/button-template.js\";\r\n\r\n\r\n\r\nexport class ButtonComponent extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    onInit() {\r\n        this.template = buttonTemplate;\r\n        this.render();\r\n        this.setDataAttribute();\r\n    }\r\n\r\n    addListeners() {}\r\n\r\n    setDataAttribute() {\r\n        this.dataset.text = this.props.title;\r\n    }\r\n\r\n    render() {\r\n        this.anchor.appendChild(this);\r\n        const button = document.createElement('button');\r\n        //console.log(this.props)\r\n        button.classList.add(this.props.classStyle);\r\n        button.textContent = this.props.title;\r\n        this.shadowRoot.appendChild(button);\r\n\r\n    }\r\n}\r\n\r\ncustomElements.define(\"my-component-button\", ButtonComponent);","const template = document.createElement('template');\r\ntemplate.innerHTML =\"default template\";\r\n\r\n\r\nexport class Component extends HTMLElement {\r\n    constructor(props){\r\n        super();\r\n        this.attachShadow({mode: 'open'});\r\n        //this.template = template;\r\n\r\n        this.actionService = props.actionService;\r\n        this.eventService = props.eventService;\r\n        this.anchor = props.anchor;\r\n\r\n        this.props = props;\r\n        this.onInit();\r\n        //this.state = props.state;\r\n\r\n\r\n\r\n        //this.props.anchor.appendChild(this);\r\n\r\n        // this.render();\r\n    }\r\n\r\n    connectedCallback() {\r\n        // this.render();\r\n       //this.addListeners();\r\n    }\r\n\r\n\r\n    onInit() {\r\n        console.log('init ', this);\r\n    }\r\n\r\n    set state(value) {\r\n        this._state = {...value};\r\n        this.props.state = this._state;\r\n        this.render();\r\n    }\r\n\r\n    get state() {\r\n        return this._state;\r\n    }\r\n\r\n\r\n    set props(value) {\r\n        this._props = {\r\n            ...this.props,\r\n            ...value\r\n        };\r\n       // console.log(this, this._props);\r\n\r\n    }\r\n\r\n    get props() {\r\n        return this._props;\r\n    }\r\n\r\n\r\n    set template(template) {\r\n        this._template = template.content.cloneNode( true );\r\n       // console.log('template', this._template, template )\r\n        this.shadowRoot.appendChild(this._template);\r\n    }\r\n\r\n    get template() {\r\n        return this._template;\r\n    }\r\n\r\n    sendState(componentList, state) {\r\n        componentList.forEach((component) => component.state = state);\r\n    }\r\n\r\n    /*set styleUrl(url) {\r\n        const linkElem = document.createElement('link');\r\n        linkElem.setAttribute('rel', 'stylesheet');\r\n        linkElem.setAttribute('type', 'text/css');\r\n        linkElem.setAttribute('href', url);\r\n        this.shadowRoot.append(linkElem);\r\n        this._style = linkElem;\r\n    }\r\n\r\n    get style() {\r\n        return this._style;\r\n    }\r\n*/\r\n\r\n\r\n\r\n\r\n}\r\n\r\n//customElements.define('my-component-task-list', Component);","import {\r\n    eventBus\r\n} from \"../services/eventService.js\";\r\nimport {\r\n    Component\r\n} from \"./Component.js\";\r\nimport {\r\n    counterTemplate\r\n} from \"../templates/counter-template.js\";\r\n\r\nexport class CounterComponent extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    onInit() {\r\n        this.template = counterTemplate;\r\n        this.render();\r\n        this.applyChanges();\r\n    }\r\n\r\n    set state(value) {\r\n        this.props = { ...this.props,\r\n            state: value\r\n        };\r\n        this._state = { ...value\r\n        };\r\n        this.applyChanges();\r\n    }\r\n\r\n    get state() {\r\n        return this._state;\r\n    }\r\n\r\n    render() {\r\n        this.anchor.appendChild(this);\r\n\r\n        this.allTasks = this.shadowRoot.querySelector('.all-tasks');\r\n        this.completedTasks = this.shadowRoot.querySelector('.completed-tasks');\r\n        this.notCompletedTasks = this.shadowRoot.querySelector('.not-completed-tasks');\r\n    }\r\n\r\n    applyChanges() {\r\n        console.log(this.props)\r\n        this.allTasks.textContent = this.props.state.countTasks.all;\r\n        this.completedTasks.textContent = this.props.state.countTasks.completed;\r\n        this.notCompletedTasks.textContent = this.props.state.countTasks.notCompleted;\r\n    }\r\n}\r\n\r\ncustomElements.define('my-component-counter', CounterComponent);","import {Component} from \"./Component.js\";\r\nimport {ButtonComponent} from \"./ButtonComponent.js\";\r\nimport {eventBus} from \"../services/eventService.js\";\r\nimport {filterTemplate} from \"../templates/filter-template.js\";\r\n\r\nexport class FilterComponent extends Component {\r\n    constructor( props ) {\r\n        super(props);\r\n    }\r\n\r\n    connectedCallback() {\r\n\r\n    }\r\n\r\n    onInit() {\r\n        this.template = filterTemplate;\r\n        this.render();\r\n        //this.addListeners();\r\n    }\r\n\r\n    set state(value) {\r\n        this.props.state = {...value};\r\n    }\r\n\r\n    get state() {\r\n        return this._state;\r\n    }\r\n\r\n    render() {\r\n        this.anchor.appendChild(this);\r\n        this.allButtonWrapper = this.shadowRoot.querySelector('.all-wrapper');\r\n        this.doneButtonWrapper = this.shadowRoot.querySelector('.done-wrapper');\r\n        this.notDoneButtonWrapper = this.shadowRoot.querySelector('.not-done-wrapper');\r\n\r\n        this.allTasks = new ButtonComponent({\r\n            title: 'All',\r\n            classStyle: \"all-filter-button\",\r\n            anchor: this.allButtonWrapper\r\n        });\r\n\r\n        this.doneTasks = new ButtonComponent({\r\n            title: 'Done',\r\n            classStyle: \"done-filter-button\",\r\n            anchor: this.doneButtonWrapper\r\n        });\r\n\r\n        this.notDoneTasks = new ButtonComponent({\r\n            title: 'Not Done',\r\n            classStyle: \"not-done-filter-button\",\r\n            anchor: this.notDoneButtonWrapper\r\n        });\r\n        this.addButtonListeners();\r\n    }\r\n\r\n    addButtonListeners() {\r\n        this.allTasks.addEventListener('click', (event) => {\r\n            this.actionService.dispatch(`allFilter`, this.props);\r\n        });\r\n\r\n        this.doneTasks.addEventListener('click', (event) => {\r\n            this.actionService.dispatch(`doneFilter`, this.props);\r\n        });\r\n\r\n        this.notDoneTasks.addEventListener('click', (event) => {\r\n            this.actionService.dispatch(`notDoneFilter`, this.props);\r\n        });\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\ncustomElements.define(\"my-component-filter\", FilterComponent);","import {ButtonComponent} from \"./ButtonComponent.js\";\r\nimport {Component} from \"./Component.js\";\r\nimport {inputTemplate} from \"../templates/input-template.js\";\r\n\r\n\r\nexport class InputComponent extends Component{\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    onInit() {\r\n        this.template = inputTemplate;\r\n       this.render();\r\n    }\r\n\r\n    connectedCallback() {\r\n     //  this.addListeners();\r\n    }\r\n\r\n    addListeners() {\r\n        this.button.addEventListener('click', (event) => {\r\n            this.addTask();\r\n        });\r\n\r\n        this.textarea.addEventListener('keydown', (event) => {\r\n            if (event.key === \"Enter\") {\r\n                this.addTask();\r\n            }\r\n\r\n        });\r\n    }\r\n  \r\n    addTask() {\r\n        if(!this.textarea.value) {\r\n            return;\r\n        }\r\n        this.props.actionService.dispatch('addTask', this.textarea.value);\r\n        //eventBus.publish('addTask', this.textarea.value );\r\n        this.textarea.value = '';\r\n    }\r\n\r\n    render() {\r\n        this.anchor.appendChild(this);\r\n        this.textarea = this.shadowRoot.querySelector('textarea');\r\n        const buttonWrapper = this.shadowRoot.querySelector('.right-column');\r\n        this.button = new ButtonComponent({ title: 'Add task', anchor: buttonWrapper, classStyle: 'add-button' });\r\n\r\n        this.addListeners();\r\n    }\r\n}\r\n\r\ncustomElements.define('my-component-input', InputComponent);","import {\r\n\tComponent\r\n} from \"./Component.js\";\r\nimport {\r\n\tloginTemplate\r\n}\r\nfrom \"../templates/login-template.js\";\r\nimport {ButtonComponent} from \"./ButtonComponent.js\";\r\n\r\nexport class LoginComponent extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t}\r\n\r\n\tonInit() {\r\n\t\tthis.template = loginTemplate;\r\n\t\tthis.render();\r\n\t}\r\n\r\n\trender() {\r\n\t\tthis.anchor.appendChild(this);\r\n\t\tthis.emailInput = this.shadowRoot.querySelector('input[name=\"email\"]');\r\n\t\tthis.passwordInput = this.shadowRoot.querySelector('input[name=\"password\"]');\r\n\t\tthis.formElement = this.shadowRoot.querySelector('[name=\"login\"]');\r\n\r\n\t\tconst inButtonWrapper = this.shadowRoot.querySelector('.in-button');\r\n\t\tconst outButtonWrapper = this.shadowRoot.querySelector('.up-button');\r\n\r\n\t\tthis.submitButton = new ButtonComponent({\r\n\t\t\ttitle: 'Sign In',\r\n\t\t\tclassStyle: \"submit-button\",\r\n\t\t\tanchor: inButtonWrapper\r\n\t\t});\r\n\r\n        this.registerButton = new ButtonComponent({\r\n            title: 'Sign Up',\r\n            classStyle: \"submit-button\",\r\n            anchor: outButtonWrapper\r\n        });\r\n\r\n\t\tthis.addButtonListeners();\r\n\t}\r\n\r\n\taddButtonListeners() {\r\n\t\tthis.submitButton.addEventListener('click', () => {\r\n\t\t\tthis.actionService.dispatch('signIn', {\r\n\t\t\t\temail: this.emailInput.value,\r\n\t\t\t\tpassword: this.passwordInput.value\r\n\t\t\t});\r\n\t\t});\r\n\r\n        this.registerButton.addEventListener('click', () => {\r\n        \tif(!this.registerMode) {\r\n                this.userNameInput = this.shadowRoot.querySelector( 'input[name=\"username\"]' );\r\n                this.userNameInput.classList.toggle( 'hide' );\r\n\r\n                const label = this.shadowRoot.querySelector( '.username' );\r\n                label.classList.toggle( 'hide' );\r\n\r\n                this.registerMode = true;\r\n            } else {\r\n                this.actionService.dispatch('signUp', {\r\n                    email: this.emailInput.value,\r\n                    password: this.passwordInput.value,\r\n\t\t\t\t\tusername: this.userNameInput.value\r\n                });\r\n            }\r\n        });\r\n\t}\r\n\r\n\r\n}\r\n\r\ncustomElements.define(\"my-component-login\", LoginComponent);","import {\r\n    ButtonComponent\r\n} from \"./ButtonComponent.js\";\r\nimport {\r\n    eventBus\r\n} from \"../services/eventService.js\";\r\nimport {\r\n    Component\r\n} from \"./Component.js\";\r\nimport {\r\n    taskTemplate\r\n} from \"../templates/task-template.js\";\r\n\r\nexport class TaskComponent extends Component {\r\n    constructor(props = {}) {\r\n        super(props);\r\n\r\n    }\r\n\r\n    onInit() {\r\n        this.template = taskTemplate;\r\n        this.render();\r\n        this.setDataAttribute();\r\n    }\r\n\r\n    setDataAttribute() {\r\n        this.dataset._id = this.props.task._id;\r\n        this.dataset.completed = this.props.task.completed;\r\n    }\r\n\r\n    addListeners() {\r\n        this.addEventListener('mouseover', () => {\r\n            this.renderButton();\r\n            this.addButtonListeners();\r\n        });\r\n\r\n        this.addEventListener('mouseout', this.removeButton.bind(this));\r\n        this.addEventListener('click', (event) => {\r\n            return this.clickListener(event);\r\n        });\r\n    }\r\n\r\n    clickListener(event) {\r\n\r\n        if(event.composedPath()[0].tagName === \"BUTTON\") {\r\n            return;\r\n        }\r\n        this.actionService.dispatch(`startEditTask`, this.props.task);\r\n    }\r\n\r\n    addButtonListeners() {\r\n        this.deleteButton.addEventListener('click', (event) => {\r\n            console.log(this.props)\r\n            this.actionService.dispatch(`deletedTask`, this.props.task._id);\r\n        });\r\n\r\n        this.doneButton.addEventListener('click', (event) => {\r\n            this.actionService.dispatch(`doneTask`, this.props.task);\r\n        });\r\n    }\r\n\r\n    removeButton() {\r\n        this.deleteButtonWrapper.removeChild(this.deleteButton);\r\n        this.doneButtonWrapper.removeChild(this.doneButton);\r\n    }\r\n\r\n    render() {\r\n        this.anchor.appendChild(this);\r\n        this.shadowRoot.querySelector('p').textContent = this.props.task.text;\r\n\r\n        this.addListeners();\r\n\r\n        // this.leftColumn = this.shadowRoot.querySelector('.left-column');\r\n\r\n\r\n    }\r\n\r\n    renderButton() {\r\n        this.doneButtonWrapper = this.shadowRoot.querySelector('.done-button-wrapper');\r\n        this.deleteButtonWrapper = this.shadowRoot.querySelector('.delete-button-wrapper');\r\n\r\n        this.deleteButton = new ButtonComponent({\r\n            title: 'Delete',\r\n            classStyle: \"delete-button\",\r\n            anchor: this.deleteButtonWrapper\r\n        });\r\n\r\n        if (this.props.task.completed) {\r\n            this.doneButton = new ButtonComponent({\r\n                title: 'Not todo',\r\n                classStyle: 'not-todo-button',\r\n                anchor: this.doneButtonWrapper\r\n            });\r\n        } else {\r\n            this.doneButton = new ButtonComponent({\r\n                title: 'Todo',\r\n                classStyle: 'todo-button',\r\n                anchor: this.doneButtonWrapper\r\n            });\r\n        }\r\n\r\n    }\r\n}\r\n\r\ncustomElements.define(\"my-component-task\", TaskComponent);","import {\r\n    TaskComponent\r\n} from \"./TaskComponent.js\";\r\nimport {\r\n    eventBus\r\n} from \"../services/eventService.js\";\r\nimport {\r\n    TextAreaComponent\r\n} from \"./textAreaComponent.js\";\r\nimport {\r\n    Component\r\n} from \"./Component.js\";\r\nimport {\r\n    taskListTemplate\r\n} from \"../templates/task-list-template.js\";\r\n\r\nexport class TaskListComponent extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        //this.template = template;\r\n    }\r\n\r\n    onInit() {\r\n        this.template = taskListTemplate;\r\n        console.log(this.props, 'tasklist props');\r\n        this.render();\r\n        /*this.attachShadow({mode: 'open'});\r\n        this.addListeners();*/\r\n    }\r\n\r\n    addListeners() {\r\n        this.addEventListener('click', this.clickListener.bind(this));\r\n\r\n        /* eventBus.subscribe('responseSuccessful', (data) => {\r\n             this.props.taskList = data;\r\n             this.renderList();\r\n         });*/\r\n\r\n        eventBus.subscribe('cancelEditing', (task) => {\r\n            this.editingLi.innerHTML = \"\";\r\n            this.editingLi.appendChild(new TaskComponent({\r\n                task: task\r\n            }));\r\n        });\r\n\r\n    }\r\n\r\n    clickListener(event) {\r\n        //console.log(event.target);\r\n        //console.log(event.currentTarget);\r\n        const targetList = event.composedPath();\r\n        if (targetList[0].tagName === \"BUTTON\") {\r\n            return;\r\n        }\r\n\r\n        const taskComponent = targetList.find((item) => {\r\n            return item.tagName === \"MY-COMPONENT-TASK\";\r\n        });\r\n\r\n        if (!taskComponent) {\r\n            return;\r\n        }\r\n\r\n        this.editingLi = targetList.find((item) => {\r\n            return item.tagName === \"LI\";\r\n        });\r\n\r\n        this.textArea = new TextAreaComponent({\r\n            task: taskComponent.props.task\r\n        });\r\n\r\n        requestAnimationFrame(() => {\r\n            this.editingLi.replaceChild(this.textArea, taskComponent);\r\n        });\r\n\r\n        this.textArea.focus();\r\n\r\n\r\n    }\r\n\r\n    render() {\r\n        this.anchor.appendChild(this);\r\n\r\n        this.ul = this.shadowRoot.querySelector('ul');\r\n        this.renderList();\r\n\r\n    }\r\n\r\n    renderList() {\r\n        //console.log(this.shadowRoot)\r\n        this.ul.innerHTML = '';\r\n        this.props.state.todoView.forEach((task) => {\r\n            this.addTask(task);\r\n        });\r\n    }\r\n\r\n    addTask(task) {\r\n        const li = document.createElement('li');\r\n        if (task.editing) {\r\n            const taskComponent = new TextAreaComponent({ ...this.props,\r\n                anchor: li,\r\n                task: task\r\n            });\r\n        } else {\r\n            const taskComponent = new TaskComponent({ ...this.props,\r\n                anchor: li,\r\n                task: task\r\n            });\r\n        }\r\n        this.ul.appendChild(li);\r\n    }\r\n}\r\n\r\ncustomElements.define('my-component-task-list', TaskListComponent);","import {\r\n    eventBus\r\n} from \"../services/eventService.js\";\r\nimport {\r\n    TaskListComponent\r\n} from \"./TaskListComponent.js\";\r\nimport {\r\n    InputComponent\r\n} from \"./InputComponent.js\";\r\nimport {\r\n    FilterComponent\r\n} from \"./FilterComponent.js\";\r\nimport {\r\n    CounterComponent\r\n} from \"./CounterComponent.js\";\r\nimport {\r\n    Component\r\n} from \"./Component.js\";\r\nimport {\r\n    todoTemplate\r\n} from \"../templates/todo-template.js\";\r\nimport {ButtonComponent} from \"./ButtonComponent.js\";\r\n\r\n\r\nexport class TodoComponent extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    set state(value) {\r\n        this._state = { ...value\r\n        };\r\n        this.props.state = this._state;\r\n        this.applyChanges(value);\r\n    }\r\n\r\n    onInit() {\r\n        this.template = todoTemplate;\r\n        console.log('initTodoComponent')\r\n        this.actionService.dispatch('initTodoComponent');\r\n        //this.render();\r\n    }\r\n\r\n\r\n    connectedCallback() {\r\n        // addEventListener();\r\n    }\r\n\r\n    render() {\r\n        this.anchor.appendChild(this);\r\n        // const leftColumn = this.shadowRoot.querySelector('.left-column');\r\n        const rightColumn = this.shadowRoot.querySelector('.right-column');\r\n        const todoListWrapper = this.shadowRoot.querySelector('.todo-list-wrapper');\r\n        const inputWrapper = this.shadowRoot.querySelector('.input-wrapper');\r\n        const filterWrapper = this.shadowRoot.querySelector('.filter-wrapper');\r\n        const signOutWrapper = this.shadowRoot.querySelector('.sign-out-wrapper');\r\n        //console.log(this.shadowRoot);\r\n\r\n        const input = new InputComponent({ ...this.props,\r\n            anchor: inputWrapper\r\n        });\r\n        this.taskList = new TaskListComponent({ ...this.props,\r\n            anchor: todoListWrapper\r\n        });\r\n        this.filter = new FilterComponent({ ...this.props,\r\n            anchor: filterWrapper\r\n        });\r\n        this.counter = new CounterComponent({...this.props, anchor: rightColumn});\r\n\r\n        this.signOutButton = new ButtonComponent({\r\n            title: 'Sign Out',\r\n            classStyle: \"sign-out-button\",\r\n            anchor: signOutWrapper\r\n        });\r\n        this.addListeners();\r\n    }\r\n\r\n    applyChanges(state) {\r\n        if(!this.isInit) {\r\n            this.isInit =true;\r\n            this.render();\r\n        }\r\n        this.taskList.state = {...state};\r\n        this.filter.state = {...state};\r\n        this.counter.state = {...state};\r\n    }\r\n\r\n    addListeners() {\r\n        this.signOutButton.addEventListener('click', () => {\r\n            this.actionService.dispatch('signOut');\r\n        })\r\n    }\r\n\r\n}\r\n\r\ncustomElements.define('my-component-todo', TodoComponent);","import { Component} from \"./Component.js\";\r\nimport { ButtonComponent } from \"./ButtonComponent.js\";\r\nimport {textareaTemplate} from \"../templates/textarea-template.js\";\r\n\r\nexport class TextAreaComponent extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    onInit() {\r\n        this.template = textareaTemplate;\r\n        this.render();\r\n        this.setDataAttribute();\r\n    }\r\n\r\n    setDataAttribute(){\r\n        this.dataset._id = this.props.task._id;\r\n        this.dataset.completed = this.props.task.completed;\r\n    }\r\n\r\n    render() {\r\n        this.anchor.appendChild(this);\r\n        this.textarea = this.shadowRoot.querySelector('textarea');\r\n        this.textarea.value = this.props.task.text;\r\n\r\n        setTimeout(() => {\r\n            this.textarea.focus();\r\n        }, 0);\r\n\r\n        this.saveButtonWrapper = this.shadowRoot.querySelector('.save-button-wrapper');\r\n        this.cancelButtonWrapper = this.shadowRoot.querySelector('.cancel-button-wrapper');\r\n        this.renderButton();\r\n        this.addButtonListeners();\r\n        this.addListeners();\r\n    }\r\n\r\n    renderButton() {\r\n        this.saveButton = new ButtonComponent({\r\n            title: 'Save',\r\n            classStyle: 'save-button',\r\n            anchor: this.saveButtonWrapper\r\n        });\r\n        this.cancelButton = new ButtonComponent({\r\n            title: 'Cancel',\r\n            classStyle: 'cancel-button',\r\n            anchor: this.cancelButtonWrapper\r\n        });\r\n\r\n    }\r\n\r\n    addListeners() {\r\n        this.addEventListener('mouseleave', (e) => {\r\n            this.actionService.dispatch(`endEditTask`, this.props.task);\r\n        });\r\n\r\n        this.textarea.addEventListener('keydown', (event) => {\r\n            if (event.key === \"Enter\") {\r\n                event.preventDefault();\r\n                this.actionService.dispatch(`endEditTask`,\r\n                    {...this.props.task, title: this.textarea.value});\r\n            }\r\n\r\n        });\r\n    }\r\n\r\n    addButtonListeners() {\r\n        this.saveButton.addEventListener('click', (event) => {\r\n            this.actionService.dispatch(`endEditTask`,\r\n                {...this.props.task, title: this.textarea.value});\r\n        });\r\n\r\n        this.cancelButton.addEventListener('click', (event) => {\r\n            this.actionService.dispatch(`endEditTask`, this.props.task);\r\n        });\r\n    }\r\n}\r\n\r\ncustomElements.define(\"my-component-textarea\", TextAreaComponent);","import {\r\n    counterService\r\n} from \"./services/CounterService.js\";\r\nimport {\r\n    TaskComponent\r\n} from './components/TaskComponent.js';\r\nimport {\r\n    EventService\r\n} from \"./services/eventService.js\";\r\nimport {\r\n    TodoComponent\r\n} from \"./components/TodoComponent.js\";\r\nimport {\r\n    RequestService\r\n} from \"./services/requestService.js\";\r\nimport {\r\n    ActionServices\r\n} from \"./services/actionService.js\";\r\nimport {\r\n    createReducers\r\n} from \"./store/reducers.js\";\r\nimport {\r\n    Store\r\n} from \"./store/store.js\";\r\n//import styles from \"./css/TaskList.css\";\r\nimport {RouteService} from \"./services/routeService.js\";\r\n\r\nconst url = 'https://todo-app-back.herokuapp.com';\r\nconst requestService = new RequestService(url);\r\nconst eventService = new EventService();\r\nconst application = document.getElementById('app');\r\n\r\nconst reducers = createReducers();\r\nconst store = new Store({\r\n    reducers,\r\n    eventService\r\n});\r\n\r\nconst actionService = new ActionServices({\r\n    requestService,\r\n    store\r\n});\r\n\r\nwindow.addEventListener('hashchange ', (e) => {\r\n    alert('hashchange');\r\n});\r\n\r\nconst router = new RouteService({\r\n    actionService,\r\n    eventService,\r\n    requestService,\r\n    anchor: application,\r\n    state: {\r\n        route: 'todo',\r\n    }\r\n});\r\n\r\nwindow.onpopstate = (state) => console.log(state);\r\n\r\n/*\r\nconst todoComponent = new TodoComponent({\r\n    eventService,\r\n    actionService,\r\n    anchor: div,\r\n    state: {\r\n        todoView: [{\r\n            title: 'No tasks'\r\n        }],\r\n        countTasks: {all: 0, completed: 0, notCompleted: 0},\r\n    },\r\n});\r\n*/\r\n\r\n\r\n//const div = document.createElement('div');\r\n//div.appendChild(todoComponent);\r\n\r\n\r\n\r\n/*\r\nconst generateId = () => String(Math.round(Date.now() * Math.random()));\r\n\r\n\r\n\r\nconst todo1 = new TaskComponent({\r\n    name: 'todo1',\r\n    id: generateId(),\r\n});\r\n\r\nconst todo2 = document.createElement('my-component-task');\r\ntodo2.props = {\r\n    name: 'todo2',\r\n    id: generateId(),\r\n};\r\n\r\ndiv.appendChild(todo1);\r\ndiv.appendChild(todo2);\r\n*/\r\n\r\n\r\n/*dataService.getData()\r\n    .then((data) => {\r\n        console.log(data);\r\n    });*/\r\n\r\n/*\r\n\r\nsetTimeout(() => {\r\n    todo2.remove();\r\n}, 3000);\r\n*/","import {eventBus} from \"./eventService.js\";\r\n\r\nclass CounterService {\r\n    constructor() {\r\n        this.onInit();\r\n    }\r\n\r\n    onInit() {\r\n        this.addListeners();\r\n    }\r\n\r\n    addListeners() {\r\n        eventBus.subscribe(\"changedData\", (data) => {\r\n            const res = this.countTasks(data);\r\n            eventBus.publish('countedTasks', res);\r\n        })\r\n    }\r\n\r\n    countTasks(taskList) {\r\n\r\n        let [doneNum, notDoneNum] = [0, 0];\r\n\r\n        console.log(taskList);\r\n        taskList.forEach((item) => {\r\n           if(item.completed) {\r\n               doneNum ++;\r\n           } else {\r\n               notDoneNum ++;\r\n           }\r\n        });\r\n\r\n        return {\r\n            allNum: taskList.length,\r\n            doneNum: doneNum,\r\n            notDoneNum: notDoneNum\r\n        };\r\n    }\r\n\r\n\r\n\r\n\r\n}\r\n\r\nexport const counterService = new CounterService();","import {EventService} from \"./eventService.js\";\r\n\r\nexport class ActionServices {\r\n    constructor(props) {\r\n        this.store = props.store;\r\n        this.requestService = props.requestService;\r\n        //this.eventService = props.eventService;\r\n        this.initHandlers();\r\n        this.onInit();\r\n    }\r\n\r\n    onInit() {\r\n        console.log('init actionService');\r\n        this.dispatch('initApplication', '');\r\n    }\r\n\r\n    initHandlers() {\r\n        this.handlers = {\r\n            'addTask': (text) => this.addTask({\r\n                text: text,\r\n                completed: false,\r\n            }),\r\n            'initTodoComponent': () => this.getTaskList(),\r\n            'applicationInit': () => this.checkAuthorization(),\r\n            'deletedTask': (id) => this.deleteTask(id),\r\n            'doneTask': (task) => this.changeTask({...task, completed: !task.completed}),\r\n            'startEditTask': (task) => this.changeTaskLocal({...task, editing: true}),\r\n            /*'cancelEditTask': (task) => {\r\n                delete task.editing;\r\n                this.changeTaskLocal({...task});\r\n            },*/\r\n            'endEditTask': (task) => {\r\n            delete task.editing;\r\n            this.changeTaskLocal({...task});\r\n            },\r\n            'allFilter': () => this.tasksFilter('allTasks'),\r\n            'doneFilter': () => this.tasksFilter('doneTasks'),\r\n            'notDoneFilter': () => this.tasksFilter('notDoneTasks'),\r\n            'signIn': (data) => this.signIn(data),\r\n            'signOut': () => this.signOut(),\r\n            'signUp': (data) => this.signUp(data),\r\n        }\r\n    }\r\n\r\n    dispatch(action, payload) {\r\n        if(this.handlers[action]) {\r\n            const start = performance.now();\r\n\r\n           // console.log('dispatch actionService', action, payload);\r\n            this.handlers[action](payload);\r\n            console.log('handlers', performance.now() - start);\r\n        }\r\n    }\r\n\r\n    checkAuthorization() {\r\n\r\n    }\r\n\r\n    getTaskList() {\r\n        //console.log('getTaskList')\r\n        this.requestService.get()\r\n            .then(data => this.store.dispatch('INIT_TODO', data));\r\n    }\r\n\r\n\r\n    addTask(task){\r\n        this.requestService.post(task)\r\n            .then(data => {\r\n                this.store.dispatch('ADD_TODO', data);\r\n            })\r\n            .catch(error => console.log(error));\r\n    }\r\n\r\n    deleteTask(id){\r\n        this.requestService.delete(id)\r\n            .then(() => this.store.dispatch('DELETE_TODO', id));\r\n    }\r\n\r\n    changeTask(task) {\r\n         console.log('changeTask', task)\r\n       this.requestService.put(task)\r\n           .then((task) => this.store.dispatch('CHANGE_TODO', task));\r\n    }\r\n\r\n    changeTaskLocal(task) {\r\n            this.store.dispatch('CHANGE_TODO', task);\r\n    }\r\n\r\n    tasksFilter(method) {\r\n        this.store.dispatch('FILTER', method);\r\n    }\r\n\r\n    signIn(data) {\r\n        this.requestService.signIn(data)\r\n            .then(res => {\r\n                localStorage.setItem('token', res.token);\r\n                this.requestService.token = res.token;\r\n                this.store.dispatch('SIGN_IN', res.token);\r\n\r\n                console.log(res.token)\r\n\r\n            })\r\n            .catch(error => console.log(error));\r\n        console.log(data);\r\n    }\r\n\r\n    signOut() {\r\n        localStorage.removeItem('token');\r\n        this.store.dispatch('SIGN_OUT');\r\n    }\r\n\r\n    signUp(data) {\r\n        console.log(data)\r\n        this.requestService.signUp(data)\r\n            .then(res => {\r\n                localStorage.setItem('token', res.token);\r\n                this.requestService.token = res.token;\r\n                this.store.dispatch('SIGN_IN', res.token);\r\n\r\n                console.log(res.error)\r\n\r\n            })\r\n            .catch(error => error.then((res) => console.log(res.error)));\r\n    }\r\n\r\n\r\n}","export class EventService {\r\n    constructor() {\r\n        this.channels = {};\r\n    }\r\n    subscribe(channel, fn) {\r\n        if (!this.channels[channel]) {\r\n            this.channels[channel]  = [];\r\n        }\r\n        this.channels[channel].push(fn);\r\n    }\r\n\r\n    unSubscribe(channel, fn) {\r\n        if (!this.channels[channel]) {\r\n            return;\r\n        }\r\n\r\n        this.channels[channel] = this.channels[channel].filter((item) => {\r\n            return  item !== fn;\r\n        });\r\n\r\n    }\r\n\r\n    publish(channel, message) {\r\n        if (!this.channels[channel] || !this.channels[channel].length) {\r\n            return;\r\n        }\r\n        this.channels[channel].forEach((item) => {\r\n            item(message);\r\n        });\r\n    }\r\n}\r\n\r\nexport let eventBus = new EventService();","export class RequestService{\r\n    constructor(url) {\r\n        this.url = url;\r\n        this.token = localStorage.getItem('token');\r\n        console.log('init requestService');\r\n    }\r\n\r\n    checkAuthorization(token) {\r\n        return fetch(`${this.url}/me`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Authorization': token\r\n            }\r\n        })\r\n            .then((response) => {\r\n                if (!response.ok) {\r\n                    throw new Error(\"File not found\");\r\n                }\r\n                return response.json();\r\n            });\r\n    }\r\n\r\n    post(task) {\r\n        console.log(task, 'task', this.token)\r\n        return fetch(`${this.url}/todos`, {\r\n            method: 'POST',\r\n            body: JSON.stringify(task),\r\n            headers: {\r\n                \"Content-type\": \"application/json; charset=UTF-8\",\r\n                'Authorization': this.token\r\n            }\r\n        })\r\n            .then((response) => {\r\n                if (!response.ok) {\r\n                    throw new Error(\"File not found\");\r\n                }\r\n                return response.json();\r\n            });\r\n    }\r\n\r\n    get() {\r\n        //console.log(this.token);\r\n        return fetch(`${this.url}/todos`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Authorization': this.token,\r\n            }\r\n        })\r\n            .then((response) => {\r\n                if (!response.ok) {\r\n                    throw new Error(\"File not found\");\r\n                }\r\n                return response.json();\r\n            });\r\n    }\r\n\r\n    delete(id) {\r\n       return fetch( `${this.url}/todos/${id}`, {\r\n            method: 'DELETE',\r\n           headers: {\r\n               \"Content-type\": \"application/json; charset=UTF-8\",\r\n               'Authorization': this.token\r\n           }\r\n        } )\r\n            .then( ( response ) => {\r\n                if ( !response.ok ) {\r\n                    throw new Error( \"File not found\" );\r\n                }\r\n            } );\r\n    }\r\n\r\n    put(task) {\r\n        return fetch( `${this.url}/todos/${task._id}`, {\r\n            method: 'PUT',\r\n            body: JSON.stringify( task ),\r\n            headers: {\r\n                \"Content-type\": \"application/json; charset=UTF-8\",\r\n                'Authorization': this.token\r\n            }\r\n        } )\r\n            .then( ( response ) => {\r\n                if ( !response.ok ) {\r\n                    throw new Error( \"File not found\" );\r\n                }\r\n                return response.json();\r\n            } );\r\n\r\n    }\r\n\r\n    signIn(data) {\r\n        return fetch( `${this.url}/login`, {\r\n            method: 'POST',\r\n            body: JSON.stringify( data ),\r\n            headers: {\r\n                \"Content-type\": \"application/json; charset=UTF-8\"\r\n            }\r\n        } )\r\n            .then( ( response ) => {\r\n                if ( !response.ok ) {\r\n                    throw new Error( \"File not found\" );\r\n                }\r\n                return response.json();\r\n            } );\r\n    }\r\n\r\n    signUp(data) {\r\n        return fetch( `${this.url}/register`, {\r\n            method: 'POST',\r\n            body: JSON.stringify( data ),\r\n            headers: {\r\n                \"Content-type\": \"application/json; charset=UTF-8\"\r\n            }\r\n        } )\r\n            .then( ( response ) => {\r\n                if ( !response.ok ) {\r\n                    throw response.json();\r\n                }\r\n                return response.json();\r\n            } );\r\n    }\r\n\r\n\r\n}","import {TodoComponent} from \"../components/TodoComponent.js\";\r\nimport {LoginComponent} from \"../components/LoginComponent.js\";\r\n\r\nconst routerConfig = {\r\n\t'login': {\r\n\t\turl: 'todo-app/login',\r\n\t\tcomponent: LoginComponent,\r\n\t\troute: 'login'\r\n\t},\r\n\t'todo': {\r\n\t\turl: 'todo-app',\r\n\t\tcomponent: TodoComponent,\r\n\t\troute: 'todo'\r\n\t}\r\n};\r\n\r\n\r\nexport class RouteService {\r\n\tconstructor(props) {\r\n\t\tthis.props = props;\r\n\t\tthis.requestService = props.requestService;\r\n\t\tthis.actionService = props.actionService;\r\n\r\n\t\tthis.anchor = props.anchor;\r\n\t\tthis.routerConfig = routerConfig;\r\n\t\tthis.eventService = props.eventService;\r\n        this.state = props.state;\r\n        this.onInit();\r\n\r\n\t\tthis.addListeners();\r\n\t}\r\n\r\n\tonInit() {\r\n        this.requestService.checkAuthorization(localStorage.getItem('token'))\r\n            .then((res) => {\r\n            \tconsole.log(res);\r\n            \tthis.changeRoute('todo');\r\n            })\r\n            .catch((error) => {\r\n                console.log(error);\r\n            \tthis.changeRoute('login');\r\n            });\r\n\t}\r\n\r\n\tset state(value) {\r\n\t\tthis._state = { ...this.state,\r\n\t\t\t...value\r\n\t\t};\r\n\t\t\r\n\t}\r\n\r\n\tget state() {\r\n\t\treturn this._state;\r\n\t}\r\n\r\n\tchangeRoute(route) {\r\n\t\tthis.currentRoute = this.routerConfig[route];\r\n\t\tif(!this.currentRoute) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif(!this.currentComponent){\r\n\t\t\tconsole.log(this.currentRoute.component)\r\n\t\t\tthis.currentComponent = new this.currentRoute.component(this.props);\r\n\t\t} else {\r\n\t\t\t\r\n\t\t\tthis.anchor.innerHTML = '';\r\n\t\t\tthis.currentComponent = new this.currentRoute.component(this.props);\r\n\t\t}\r\n\r\n\t\t//window.history.pushState(this.currentRoute.route, '', this.currentRoute.url);\r\n\t}\r\n\r\n\taddListeners(){\r\n        this.eventService.subscribe('stateChanged', (state) => {\r\n            this.state = state;\r\n        \tif(state.route === this.currentRoute.route) {\r\n        \t\tthis.currentComponent.state = {...state};\r\n\t\t\t} else {\r\n                this.changeRoute(state.route);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n}","export function createReducers() {\r\n    return {\r\n        'INIT_TODO': (payLoad, state) => {\r\n            return {\r\n                ...state,\r\n                todoList: [...payLoad],\r\n                todoView: [...payLoad],\r\n                filterMethod: \"allTasks\",\r\n                countTasks: calculateTasks([...payLoad]),\r\n                route: 'todo'\r\n            }\r\n        },\r\n        'ADD_TODO': (payLoad, state) => {\r\n            const todoList = [payLoad, ...state.todoList];\r\n            return {\r\n                ...state,\r\n                todoList: todoList,\r\n                todoView: applyFilter(todoList, state.filterMethod),\r\n                countTasks: calculateTasks(todoList),\r\n            }\r\n        },\r\n        'DELETE_TODO': (payLoad, state) => {\r\n            const todoList = [...state.todoList.filter((item) => item._id !== payLoad)];\r\n            return {\r\n                ...state,\r\n                todoList: todoList,\r\n                todoView: applyFilter(todoList, state.filterMethod),\r\n                countTasks: calculateTasks(todoList),\r\n            }\r\n        },\r\n        'CHANGE_TODO': (payload, state) => {\r\n            const todoList = [...state.todoList.map((item) => {\r\n                if (item._id === payload._id) {\r\n                    return payload;\r\n                }\r\n                return item;\r\n            })];\r\n            return {\r\n                ...state,\r\n                todoList: todoList,\r\n                todoView: applyFilter(todoList, state.filterMethod),\r\n                countTasks: calculateTasks(todoList),\r\n            }\r\n        },\r\n        'FILTER': (method, state) => {\r\n            return {\r\n                ...state,\r\n                filterMethod: method,\r\n                todoView: applyFilter(state.todoList, method),\r\n            }\r\n        },\r\n        'SIGN_IN': (token, state) => {\r\n            return {\r\n                ...state,\r\n                token: token,\r\n                route: 'todo'\r\n            }\r\n        },\r\n        'SIGN_OUT': (payload, sate) => {\r\n            return {\r\n                ...sate,\r\n                route: 'login'\r\n            }\r\n    }\r\n\r\n\r\n    }\r\n}\r\n\r\nfunction applyFilter(todoList, method) {\r\n    switch (method) {\r\n        case 'allTasks':\r\n            return [...todoList];\r\n            break;\r\n        case 'doneTasks':\r\n            return [...todoList.filter(item => item.completed)];\r\n            break;\r\n        case 'notDoneTasks':\r\n            return [...todoList.filter(item => !item.completed)];\r\n            break;\r\n    }\r\n}\r\n\r\nfunction calculateTasks(taskList) {\r\n    const allTasksNumber = taskList.length;\r\n    let doneTasksNumber = 0;\r\n    let notDoneTasksNumber = 0;\r\n\r\n    taskList.forEach((task) => {\r\n        if (task.completed) {\r\n            doneTasksNumber++;\r\n        } else {\r\n            notDoneTasksNumber++;\r\n        }\r\n    });\r\n\r\n    return {\r\n        all: allTasksNumber,\r\n        completed: doneTasksNumber,\r\n        notCompleted: notDoneTasksNumber\r\n    };\r\n}","import {eventBus} from \"../services/eventService.js\";\r\n\r\n\r\nexport class Store{\r\n    constructor(props){\r\n        this.reducers = props.reducers;\r\n        this.eventService = props.eventService;\r\n        this.state = {\r\n            todoList: [],\r\n            todoView: []\r\n        };\r\n\r\n    }\r\n\r\n    dispatch(actionType, payload) {\r\n\r\n        if(this.reducers[actionType]) {\r\n            this.state = this.reducers[actionType](payload, this.state);\r\n        }\r\n        console.log(this.state);\r\n        this.eventService.publish('stateChanged', this.state);\r\n    }\r\n\r\n}","export const buttonTemplate = document.createElement('template');\r\nbuttonTemplate.innerHTML = `\r\n\t<style>\r\n\tbutton{\r\n    transition-duration: 0.6s;\r\n    cursor: pointer;\r\n}\r\n.delete-button, .cancel-button, .not-done-filter-button{\r\n    background-color: white;\r\n    color: black;\r\n    border: 2px solid red; \r\n}\r\n\r\n.delete-button:hover, .cancel-button:hover, .not-done-filter-button:hover {\r\n    background-color: red; \r\n    color: white;\r\n}\r\n\r\n.not-todo-button, .all-filter-button{\r\n    background-color: white;\r\n    color: black;\r\n    border: 2px solid blue; \r\n}\r\n\r\n.not-todo-button:hover, .all-filter-button:hover {\r\n    background-color: blue; \r\n    color: white;\r\n}\r\n\r\n\r\n\r\n.todo-button, .save-button, .add-button, .done-filter-button{\r\n    background-color: white;\r\n    color: black;\r\n    border: 2px solid green; \r\n}\r\n\r\n.todo-button:hover, .save-button:hover, .add-button:hover, .done-filter-button:hover {\r\n    background-color: green; \r\n    color: white;\r\n}\r\n\r\n.submit-button{\r\n    font-size: 20px;\r\n    height: 40px;\r\n    box-sizing: border-box;\r\n    padding: 0 20px 0 20px;\r\n    display: block;\r\n    margin: 30px auto 10px auto; \r\n    border: 3px #B99E7E groove;\r\n    border-radius: 4px;\r\n    box-shadow: 2px 2px 4px rgba(0,0,0,0.5);\r\n    background-color: white;\r\n    color: #715636;\r\n    color: #715636;\r\n    text-shadow: 1px 1px 2px rgba(0,0,0,0.5);\r\n}\r\n\r\n.submit-button:hover {\r\n    background-color: #B99E7E; \r\n    color: white;\r\n}\r\n\t</style>\r\n\t\r\n`","export const counterTemplate = document.createElement('template');\r\ncounterTemplate.innerHTML = `\r\n<style>\r\n    td {\r\n        padding: 10px;\r\n    }\r\n</style>\r\n<div>\r\n    <table>\r\n    \t<tr>\r\n    \t\t<td>All tasks</td>\r\n    \t\t<td class=\"all-tasks\"></td>\r\n    \t</tr>\r\n    \t<tr>\r\n    \t\t<td>Completed tasks</td>\r\n    \t\t<td class=\"completed-tasks\"></td>\r\n    \t</tr>\r\n    \t<tr>\r\n    \t\t<td>Not completed tasks</td>\r\n    \t\t<td class=\"not-completed-tasks\"></td>\r\n    \t</tr>\r\n        \r\n\t</table>\r\n</div>    \r\n`","export const filterTemplate = document.createElement('template');\r\nfilterTemplate.innerHTML = `\r\n    <style>\r\n    td {\r\n        outline: blue 1px groove;\r\n    }\r\n</style>\r\n    <div class=\"wrapper\">\r\n        <h2>Filter Tasks</h2>\r\n        <table>\r\n            <tr>\r\n                <td class=\"all-wrapper\"></td>\r\n                <td class=\"done-wrapper\"></td>\r\n                <td class=\"not-done-wrapper\"></td>\r\n            </tr>    \r\n        </table>    \r\n    </div>    \r\n`;\r\n","export const inputTemplate = document.createElement('template');\r\ninputTemplate.innerHTML = `\r\n<style>\r\n    \r\n    .wrapper{\r\n     height: 60px;\r\n     margin: 10px 0 10px 0;\r\n     \r\n    }\r\n    \r\n    .left-column{\r\n        width: 80%;\r\n        float: left;\r\n        border: 3px #B99E7E groove;  \r\n        box-shadow: 2px 2px 4px rgba(0,0,0,0.5);\r\n        background: #FFE4C4;\r\n        \r\n    }\r\n\r\n    .right-column{\r\n        /*float: right;*/\r\n        margin: 320px;\r\n        display: table-cell;\r\n        vertical-align: middle;\r\n        text-align: center;\r\n        height: 60px;\r\n        width: 20%;\r\n    }\r\n    \r\n    textarea{\r\n    box-sizing: border-box;\r\n    height: 100%;\r\n    width: 100%;\r\n    padding: 10px;\r\n    margin: 0;\r\n    border: none;\r\n    outline: none;\r\n    resize: none;\r\n    background: inherit;\r\n    font: inherit;\r\n}\r\n\r\n.left-column:hover{\r\nbackground: #F2D7B7;\r\n}\r\n    \r\n</style>\r\n    \r\n    <div class=\"wrapper\">\r\n        <div class=\"left-column\">\r\n            <textarea ></textarea>\r\n        </div>\r\n        <div class=\"right-column\"></div>\r\n    </div>\r\n\r\n`\r\n","export const loginTemplate = document.createElement('template');\r\nloginTemplate.innerHTML = `\r\n\t<style>\r\n\t\t.form-wrapper{\r\n\t\t\t\theight: 600px;\r\n\t\t\t\twidth: 600px;\r\n\t\t\t\tmargin: 10px auto 10px auto;\r\n\t\t\t\tdisplay: table-cell;\r\n\t\t\t\tvertical-align: middle;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t}\r\n\r\nh1{\r\n\tfont-size: 40px;\r\n\ttext-align: center;\r\n\tmargin:20px;\r\n\tcolor: #715636;\r\n\ttext-shadow: 2px 2px 4px rgba(0,0,0,0.5);\r\n}\r\n\r\ninput:hover{\r\n\tbackground: #E7CCAC;\r\n}\r\ninput:focus{\r\n\toutline: 3px #B99E7E groove;\r\n\tborder: 3px #B99E7E groove;\r\n}\r\n\r\ninput:-webkit-autofill{\r\n\tbackground: #E7CCAC\r\n}\r\n\r\n\r\nlabel, input {\r\n\tcolor: #715636;\r\n\ttext-shadow: 1px 1px 2px rgba(0,0,0,0.5);\r\n\t\t\t\tfont-size: 20px;\r\n\r\n\t\t\t\tmargin: 10px 0 10px 0 ;\r\n\t\t\t\tdisplay: block;\r\n\t\t\t} \r\nlabel{\r\n\tcolor: #715636;\r\n\ttext-shadow: 1px 1px 2px rgba(0,0,0,0.5);\r\n}\t\t\t\r\n\r\ninput {\r\n\twidth:300px;\r\n\theight: 30px;\r\n\tborder: 3px #B99E7E groove;\r\n\tborder-radius: 4px;\r\n\tbox-shadow: 2px 2px 4px rgba(0,0,0,0.5);\r\n\t\r\n}\r\n\r\nform{\r\n    width: 400px; \r\n\t/*height: 400px;*/\r\n\tbackground: #FFE4C4;\r\n\tdisplay: block;\r\n\tbox-sizing: border-box;\r\n\t\r\n\tmargin: 10px auto 10px auto; \r\n\tpadding: 50px; \r\n\ttext-align: left;\r\n\tborder-radius: 10px;\r\n\tborder: 5px #B99E7E groove;\r\n\tbox-shadow: 5px 5px 10px rgba(0,0,0,0.5);\r\n\r\n\r\n\t/* border-style: groove ridge ridge groove; */\r\n\t/* display: table-cell;\r\n\tvertical-align: middle; */\r\n}\r\n\r\n.hide{\r\n    display: none;\r\n}\r\n\r\ntable{\r\n    width: 100%;\r\n}\r\n\r\ntd{\r\n    vertical-align: middle;\r\n}\r\n\r\n\r\n\t</style>\r\n\t<div class=\"form-wrapper\">\r\n\t\t<form name=\"login\">\r\n\t\t\t<h1>Login Form</h1>\r\n\t\t\t<label for=\"username\" class=\"hide username\">User Name</label>\r\n\t\t\t<input type=\"text\"  class=\"hide\" name=\"username\"  placeholder=\"Enter User Name\">\r\n\t\t\t<label for=\"email\">Email</label>\r\n\t\t\t<input type=\"email\" name=\"email\" autocomplete=\"on\" placeholder=\"Enter Email\">\r\n\t\t\t<label for=\"password\">Password</label>\r\n\t\t\t<input type=\"password\" name=\"password\" autocomplete=\"on\" placeholder=\"Enter Password\">\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t<table>\r\n\t\t\t    <tr>\r\n\t\t\t        <td class=\"in-button\"></td>\r\n\t\t\t        <td class=\"up-button\"></td>\r\n                </tr>\r\n            </table>\r\n\t\t</form>\r\n\t</div>\r\n`","export const taskListTemplate = document.createElement('template');\r\ntaskListTemplate.innerHTML = `\r\n <style>\r\n    ul{\r\n    list-style-type: none;\r\n    margin: 0;\r\n    padding: 0;\r\n}\r\n\r\nli{\r\n    height: 60px;\r\n    margin: 0;\r\n    border-width: 2px;\r\n    border-color: rgb(163, 163, 92) rgb(42, 118, 118) rgb(42, 118, 118) rgb(163, 163, 92);\r\n    border-style: groove ridge ridge groove;\r\n}\r\n\r\nmy-component-task, my-component-textarea{\r\n    height: 100%;\r\n    width: 100%;\r\n    display: block;\r\n}\r\n\r\nmy-component-task[data-completed = \"true\"]{\r\n    background: #81FFD6;\r\n}\r\n\r\nmy-component-task:hover[data-completed = \"true\"]{\r\n    background: #68E8BD;\r\n}\r\n\r\nmy-component-task[data-completed = \"false\"]{\r\n    background: #FFC0A9;\r\n}\r\n\r\nmy-component-task:hover[data-completed = \"false\"]{\r\n    background: #EA755E;\r\n}\r\n\r\nmy-component-textarea[data-completed = \"false\"]{\r\n    background: #EA755E;\r\n}\r\n\r\nmy-component-textarea[data-completed = \"true\"]{\r\n    background: #68E8BD;\r\n}\r\n\r\n</style>\r\n    <div>\r\n    <ul></ul>\r\n</div>\r\n\r\n`","export const taskTemplate = document.createElement('template');\r\ntaskTemplate.innerHTML = `\r\n<style>\r\n\tdiv {\r\n    height: 100%;\r\n}\r\n\r\n.left-column{\r\n    float: left;\r\n    width: 80%;\r\n\r\n}\r\n\r\n.right-column{\r\n    float: right;\r\n    width: 20%;\r\n}\r\n\r\ntd {\r\n    text-align: center;\r\n    vertical-align: center;\r\n}\r\ntable{\r\n    margin: auto;\r\n}\r\n\r\np {\r\n    width: 100%;\r\n    margin: 10px;\r\n    padding: 0;\r\n}\r\n</style>\t\r\n<div class=\"left-column\">\r\n    <p></p>\r\n</div>\r\n<div class=\"right-column\">\r\n    <table>\r\n        <tr><td class=\"done-button-wrapper\"></td></tr>\r\n        <tr><td class=\"delete-button-wrapper\"></td></tr>\r\n    </table>\r\n</div>\r\n`","export const textareaTemplate = document.createElement('template');\r\ntextareaTemplate.innerHTML = `\r\n    <style>\r\n .left-column{\r\n    float: left;\r\n    width: 80%;\r\n\r\n}\r\n\r\n.right-column{\r\n    float: right;\r\n    width: 20%;\r\n}\r\n\r\ntd {\r\n    text-align: center;\r\n    vertical-align: center;\r\n}\r\ntable{\r\n    margin: auto;\r\n}\r\n\r\n\r\n.text-area{\r\n    box-sizing: border-box;\r\n    height: 100%;\r\n    width: 100%;\r\n    padding: 10px;\r\n    margin: 0;\r\n    border: none;\r\n    outline: none;\r\n    resize: none;\r\n    background: inherit;\r\n    font: inherit;\r\n}\r\n    </style>\r\n    \r\n <div class=\"left-column\">\r\n       <textarea class=\"text-area\"></textarea>\r\n </div>\r\n <div class=\"right-column\">\r\n       <table>\r\n         <tr><td class=\"save-button-wrapper\"></td></tr>\r\n         <tr><td class=\"cancel-button-wrapper\"></td></tr>\r\n       </table>\r\n       </div>    \r\n`;\r\n","export const todoTemplate = document.createElement('template');\r\ntodoTemplate.innerHTML = `\r\n\r\n<style>\r\n    ul{\r\n    list-style-type: none;\r\n    }\r\n    .left-column{\r\n    margin-left: 0;\r\n        float: left;\r\n        width: 70%;\r\n        outline: blue 1px groove;\r\n    }\r\n    .right-column{\r\n        width: 30%;\r\n        float: right;\r\n        outline: blue 1px groove;\r\n    }\r\n    \r\n</style>\r\n    <div class=\"header\">\r\n        <h1>Todo Application</h1>\r\n        <div class=\"sign-out-wrapper\"></div>\r\n        </div>\r\n    <div class=\"left-column\">\r\n        <div class=\"input-wrapper\"></div>\r\n        <div class=\"filter-wrapper\"></div>\r\n        <div class=\"todo-list-wrapper\"></div>\r\n    </div>\r\n    <div class=\"right-column\"></div>\r\n`"],"sourceRoot":""}